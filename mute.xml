<?xml version="1.0"?>
<Container version="2">

  <!-- ───────── BASIC INFO ───────── -->
  <Name>mute</Name>
  <Repository>meaning/mute-client:latest</Repository>
  <Registry>https://hub.docker.com/r/meaning/mute-client</Registry>
  <Network>bridge</Network>
  <Shell>/bin/sh</Shell>
  <Privileged>false</Privileged>

  <Support>https://github.com/silkyclouds/mute</Support>
  <Project>https://muteq.eu/</Project>

  <Overview>
Acoustic Intelligence for Everyone.
Monitor, analyze, and understand your sound environment with smart, affordable sensors and a powerful analytics dashboard.

Mute turns your USB sound level meter into a real-time acoustic monitoring device.
Your data appears automatically in your personal dashboard — on https://dash.muteq.eu —
where you can visualize noise trends, detect peaks, compare time periods, and explore your environment through clear, intuitive charts.

Local MQTT integration is fully optional and allows publishing data to Home Assistant or any automation platform.

More info on https://muteq.eu.
  </Overview>

  <Category>Other,HomeAutomation</Category>
  <WebUI></WebUI>

  <!-- ICON -->
  <Icon>https://raw.githubusercontent.com/silkyclouds/mute-unraid-templates/main/icon.png</Icon>

  <!-- ───────── PATHS & DEVICES ───────── -->

  <Config Name="Config Directory"
          Target="/config"
          Default="/mnt/user/appdata/mute"
          Mode="rw"
          Description="Directory where the client stores its configuration file (config_client.json)."
          Type="Path" Display="always" Required="true" />

  <Config Name="USB Device"
          Target="/dev/bus/usb"
          Default=""
          Mode=""
          Description="USB sound level meter to pass through. Run 'lsusb' on Unraid to identify and map the correct /dev/bus/usb/XXX/YYY device."
          Type="Device" Display="always" Required="true" />

  <!-- ───────── MQTT (OPTIONAL) ───────── -->

  <Config Name="Local MQTT Enabled (Optional)"
          Target="LOCAL_MQTT_ENABLED"
          Default="false"
          Description="Optional — enable this only if you want to publish noise data to your local MQTT broker (e.g., for Home Assistant)."
          Type="Variable" Display="always" Required="false" />

  <Config Name="Local MQTT Server (Optional)"
          Target="LOCAL_MQTT_SERVER"
          Default=""
          Description="Optional — hostname or IP of your local MQTT broker."
          Type="Variable" Display="always" Required="false" />

  <Config Name="Local MQTT Port (Optional)"
          Target="LOCAL_MQTT_PORT"
          Default="1883"
          Description="Optional — port of your local MQTT broker."
          Type="Variable" Display="always" Required="false" />

  <Config Name="Local MQTT Username (Optional)"
          Target="LOCAL_MQTT_USER"
          Default=""
          Description="Optional — username for your local MQTT broker."
          Type="Variable" Display="always" Required="false" />

  <Config Name="Local MQTT Password (Optional)"
          Target="LOCAL_MQTT_PASS"
          Default=""
          Description="Optional — password for your local MQTT broker."
          Type="Variable" Display="always" Required="false" Mask="true" />

  <Config Name="Local MQTT TLS (Optional)"
          Target="LOCAL_MQTT_TLS"
          Default="false"
          Description="Optional — enable TLS encrypted connection to your local MQTT broker."
          Type="Variable" Display="always" Required="false" />

</Container>
